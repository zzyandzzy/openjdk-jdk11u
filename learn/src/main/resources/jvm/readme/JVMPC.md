# 程序计数器PC

JVM中的程序计数寄存器（Program Counter Register)中，Register 的命名源于CPU的寄存器，寄存器存储指令相关的现场信息。
CPU只有把数据装载到寄存器才能够运行这里，并非是广义上所指的物理寄存器，或许将其翻译为PC计数器会更贴切

每个线程都有一个程序计数器，存储了下一条要执行指令的地址。如果线程正在执行的是一个Java方法，
这个计数器记录的是正在执行的虚拟机字节码的地址;
如果正在执行的是本地(Native)方法，这个计数器应该为空。

作用：

- 用来存储指向下一条指令的地址，也即将要执行的指令代码。由执行引擎读取下一条指令

- 它是一块很小的内存空间，几乎可以忽略不计，也是运行速度最快的存储区域

- 在JVM规范中，每个线程都有它自己的程序计数器，是线程私有的，生命周期与线程的生命周期保持一致

为什么要用PC寄存器记录当前线程的执行地址呢?

因为CPU需要不停的切换各个线程，这时候切换回来以后，就得知道接着从那开始继续执行
JVM的字节码解释器就需要通过改变PC寄存器值来明确下一条应该执行什么样的字节码指令

PC寄存器为什么设置为线程私有呢?

多线程情况下只有一个PC寄存器切换次数太多反而降低类运行效率，实际上，物理机上每个核都有单独的寄存器。